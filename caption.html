<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A2Z Studio - Insta Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        body { background: #05000a; color: white; font-family: 'Montserrat', sans-serif; }
        .glass { background: rgba(20, 0, 10, 0.7); backdrop-filter: blur(30px); border: 1px solid rgba(236, 72, 153, 0.2); border-radius: 3rem; }
        .btn-pink { background: linear-gradient(45deg, #831843, #ec4899); box-shadow: 0 0 20px #ec4899; }
    </style>
</head>
<body class="p-6">
    <a href="index.html" class="text-pink-500 font-bold uppercase text-[10px] mb-10 inline-block"><i class="fa-solid fa-arrow-left mr-2"></i> Back to Hub</a>
    
    <div class="max-w-2xl mx-auto space-y-8">
        <div class="text-center mb-10"><h2 class="text-4xl font-black italic uppercase text-pink-500">Insta Pro</h2></div>
        
        <div class="glass p-10 space-y-6">
            <textarea id="ai-prompt" class="w-full h-40 bg-black/50 border border-pink-500/20 p-6 rounded-3xl outline-none text-sm text-pink-100" placeholder="Describe your photo topic..."></textarea>
            <button onclick="generateAI()" id="ai-btn" class="btn-pink w-full py-5 rounded-3xl font-black text-xs uppercase tracking-widest text-white">Generate Viral Content</button>
        </div>

        <div id="ai-res" class="hidden p-8 glass text-pink-100 text-sm leading-relaxed whitespace-pre-line border-pink-500/20"></div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script>
        const firebaseConfig = { apiKey: "AIzaSyDI7v-5DoTUWZBhajcpZk6ed9rH2GcAqLw", databaseURL: "https://a2ztools-6ea22-default-rtdb.asia-southeast1.firebasedatabase.app" };
        firebase.initializeApp(firebaseConfig); const db = firebase.database(); let keys = {};
        db.ref('settings').on('value', (s) => { keys = s.val() || {}; });

        async function generateAI() {
            const p = document.getElementById('ai-prompt').value; const btn = document.getElementById('ai-btn');
            if(!p || !keys.geminiKey) return alert("Keys missing in Admin!");
            btn.innerText = "Consulting AI...";
            try {
                const res = await fetch("https://api.groq.com/openai/v1/chat/completions", {
                    headers: { "Authorization": `Bearer ${keys.geminiKey}`, "Content-Type": "application/json" },
                    method: "POST",
                    body: JSON.stringify({ model: "llama-3.3-70b-versatile", messages: [{ role: "user", content: `Create 5 viral Instagram captions and hashtags for: ${p}` }] })
                });
                const d = await res.json();
                document.getElementById('ai-res').innerText = d.choices[0].message.content;
                document.getElementById('ai-res').classList.remove('hidden');
            } catch (e) { alert("AI Lag!"); } btn.innerText = "Generate Viral Content";
        }
    </script>
</body>
</html>