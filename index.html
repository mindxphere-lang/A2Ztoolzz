<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html b:css='false' b:defaultmessages='false' b:layouts='false' b:responsive='true' lang='en' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/b/static/shapes' xmlns:data='http://www.google.com/gadgets/metadata' xmlns:expr='http://www.google.com/expr'>
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>A2Z Toolzz - Pro AI</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>

    <style>
        /* Forcefully Hide ALL Generation Theme Elements */
        .page_body, .region-inner, .main-inner, .column-right-outer, .header-outer, .tabs-outer, .footer-outer, .blog-pager, .post-footer, .comments, .sidebar-container, .status-msg-wrap { 
            display: none !important; 
            visibility: hidden !important;
        }

        /* Essential Reset */
        body, html { margin: 0 !important; padding: 0 !important; background-color: #020617 !important; height: 100% !important; overflow: hidden !important; }

        /* The App Overlay - Works like a Mobile App */
        .ultra-wrapper {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: radial-gradient(circle at top right, #1e3a8a, #020617);
            z-index: 99999999 !important;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            display: flex;
            flex-direction: column;
        }

        .glass { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.05); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Device-Specific Grid */
        .grid-layout { display: grid; gap: 1rem; padding: 1rem; }
        @media (min-width: 768px) { .grid-layout { grid-template-columns: repeat(4, 1fr); gap: 2rem; padding: 2rem; } }
        @media (max-width: 767px) { .grid-layout { grid-template-columns: repeat(2, 1fr); } }
    </style>
</head>
<body>

<div class="ultra-wrapper no-scrollbar">
    <nav class="sticky top-0 z-[100] glass px-6 py-5 flex justify-between items-center border-b border-white/5">
        <h1 class="text-xl font-black italic tracking-tighter uppercase">A2Z <span class="text-cyan-400">TOOLZZ</span></h1>
        <i class="fa-solid fa-clock-rotate-left opacity-50" onclick="renderLogs()"></i>
    </nav>

    <div class="max-w-6xl mx-auto w-full px-4 py-8">
        <div class="mb-10 text-center">
            <h2 class="text-3xl md:text-6xl font-extrabold mb-4 gradient-text">Smart AI Hub</h2>
            <p class="text-slate-500 text-xs md:text-lg">Generation Layout Compatible</p>
        </div>

        <div class="grid-layout mb-12">
            <div class="glass p-6 md:p-10 rounded-[2.5rem] text-center hover:scale-105 transition cursor-pointer" onclick="toggleM('downloader', true)">
                <i class="fa-solid fa-cloud-arrow-down text-3xl text-cyan-400 mb-4"></i>
                <h3 class="font-bold text-[10px] md:text-sm uppercase">Video Save</h3>
            </div>
            <div class="glass p-6 md:p-10 rounded-[2.5rem] text-center hover:scale-105 transition cursor-pointer">
                <i class="fa-solid fa-wand-magic-sparkles text-3xl text-yellow-500 mb-4"></i>
                <h3 class="font-bold text-[10px] md:text-sm uppercase">Photo Fix</h3>
            </div>
            <div class="glass p-6 md:p-10 rounded-[2.5rem] text-center hover:scale-105 transition cursor-pointer">
                <i class="fa-solid fa-palette text-3xl text-blue-500 mb-4"></i>
                <h3 class="font-bold text-[10px] md:text-sm uppercase">AI Toning</h3>
            </div>
            <div class="glass p-6 md:p-10 rounded-[2.5rem] text-center hover:scale-105 transition cursor-pointer">
                <i class="fa-brands fa-instagram text-3xl text-pink-500 mb-4"></i>
                <h3 class="font-bold text-[10px] md:text-sm uppercase">Insta Pro</h3>
            </div>
        </div>

        <div class="px-2">
            <h4 class="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-4">Recent Logs</h4>
            <div id="log-list" class="flex gap-4 overflow-x-auto pb-4 no-scrollbar"></div>
        </div>
    </div>

    <div id="downloader-modal" class="fixed inset-0 z-[200] hidden items-end md:items-center justify-center p-0 md:p-6">
        <div class="absolute inset-0 bg-black/95 backdrop-blur-xl" onclick="toggleM('downloader', false)"></div>
        <div class="glass w-full md:max-w-2xl h-[80vh] md:h-auto rounded-t-[3rem] md:rounded-[3rem] p-8 relative z-10 overflow-y-auto">
            <div class="w-12 h-1.5 bg-white/20 rounded-full mx-auto mb-8 md:hidden"></div>
            <h2 class="text-xl font-bold mb-6 italic">Video Downloader</h2>
            <div class="flex bg-slate-900 rounded-3xl p-1 mb-6 border border-white/5">
                <input type="text" id="urlInput" placeholder="Paste link..." class="flex-grow bg-transparent border-none outline-none p-4 text-sm text-white"/>
                <button onclick="fetchVideo()" class="bg-cyan-600 px-8 rounded-2xl font-bold text-xs uppercase">Fetch</button>
            </div>
            <div id="loader" class="hidden text-center py-10"><i class="fa-solid fa-spinner fa-spin text-2xl text-cyan-400"></i></div>
            <div id="results" class="hidden space-y-4">
                <img id="thumb" class="w-full aspect-video object-cover rounded-[2rem] shadow-2xl mb-4"/>
                <div id="qualityList" class="space-y-3"></div>
            </div>
        </div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

<script>
//<![CDATA[
    const firebaseConfig = {
        apiKey: "AIzaSyDI7v-5DoTUWZBhajcpZk6ed9rH2GcAqLw",
        databaseURL: "https://a2ztools-6ea22-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "a2ztools-6ea22",
        appId: "1:643946550910:web:484f70e7b2b04b2aa36a2f"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    let keys = {};

    db.ref('settings').on('value', (snap) => { keys = snap.val() || {}; });

    function toggleM(id, show) {
        const m = document.getElementById(id + '-modal');
        m.classList.toggle('hidden', !show);
        m.classList.toggle('flex', show);
    }

    async function fetchVideo() {
        const url = document.getElementById('urlInput').value;
        if(!url || !keys.videoKey) return alert("Keys loading... Check Offline Admin");
        document.getElementById('loader').classList.remove('hidden');
        document.getElementById('results').classList.add('hidden');
        try {
            const res = await fetch(`https://social-download-all-in-one.p.rapidapi.com/v1/social/autolink`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json', 'X-RapidAPI-Key': keys.videoKey, 'X-RapidAPI-Host': 'social-download-all-in-one.p.rapidapi.com' },
                body: JSON.stringify({ url: url })
            });
            const data = await res.json();
            renderData(data);
            saveLog('Downloader', data.title || 'Video');
        } catch (e) { alert("Error!"); }
        document.getElementById('loader').classList.add('hidden');
    }

    function renderData(data) {
        document.getElementById('thumb').src = data.picture || data.thumbnail;
        document.getElementById('qualityList').innerHTML = data.medias.map(m => `
            <div class="glass p-4 rounded-2xl flex justify-between items-center border-white/5">
                <span class="text-[10px] font-bold text-white/70">${m.quality} (${m.extension})</span>
                <a href="${m.url}" target="_blank" class="bg-cyan-500 px-6 py-2 rounded-xl text-[10px] font-bold">Download</a>
            </div>
        `).join('');
        document.getElementById('results').classList.remove('hidden');
    }

    function saveLog(t, d) {
        let l = JSON.parse(localStorage.getItem('logs')) || [];
        l.unshift({t, d, time: new Date().toLocaleTimeString()});
        localStorage.setItem('logs', JSON.stringify(l.slice(0, 6)));
        renderLogs();
    }

    function renderLogs() {
        const list = document.getElementById('log-list');
        const l = JSON.parse(localStorage.getItem('logs')) || [];
        if(l.length > 0) {
            list.innerHTML = l.map(i => `
                <div class="glass min-w-[140px] p-4 rounded-[2rem] text-[10px]">
                    <p class="text-cyan-400 font-bold uppercase">${i.t}</p>
                    <p class="text-slate-500 truncate w-24">${i.d}</p>
                </div>
            `).join('');
        }
    }
    window.onload = renderLogs;
//]]>
</script>
</body>
</html>